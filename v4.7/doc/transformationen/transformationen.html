<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Transformationen </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Transformationen ">
      
      
      <link rel="icon" href="../../favicon.ico">
      <link rel="stylesheet" href="../../public/docfx.min.css">
      <link rel="stylesheet" href="../../public/main.css">
      <meta name="docfx:navrel" content="../../toc.html">
      <meta name="docfx:tocrel" content="../toc.html">
      
      <meta name="docfx:rel" content="../../">
      
      
      <meta name="docfx:docurl" content="https://github.com/FrameworkSystemsGmbH/fs/blob/4.7/release/3/docs/doc/transformationen/transformationen.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../../index.html">
            <img id="logo" class="svg" src="../../logo.svg" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="transformationen">Transformationen</h1>

<p>Mit Hilfe von Transformationen können ein oder mehrere Eingabeparameter in einen Ausgabeparameter umgewandelt werden. Dies ist vor allem in Bezug auf Webservices hilfreich, bei dem z.B. eine Component, die nur im Webservice, jedoch nicht am Client bekannt ist, in einen Data Contract überführt werden soll.</p>
<p>Es gibt zwei Arten von Transformationen: Eine graphische Transformation, bei der Properties der Eingabeparameter mit den Properties des Ausgabeparameters visuell verknüpft werden können und eine Code-Transformation, in der per C# die Eingabeparameter programmatisch in einen Ausgabeparameter konvertiert werden.</p>
<p>Anlegen von Transformationen:</p>
<p><img src="media/anlegen-von-transformationen.png" alt="anlegen"></p>
<p>Transformationen werden in einem Namespace über das Erstellmenü oder über <strong>Rechtsklick auf den Namespace in der unteren Treeview &gt; New &gt; FSTransformation</strong> erstellt.</p>
<h2 id="code-transformation">Code-Transformation</h2>
<p>Mit Hilfe der Code-Transformation können beliebig viele Eingabeparameter in einen Ausgabeparameter umgewandelt werden. Der Vorteil gegenüber graphischen Transformationen ist, dass der Komplexität der Transformation keine Grenze gesetzt ist.</p>
<p><strong>Beispiel 1:</strong></p>
<p>Die wohl kürzeste Code-Transformation ist die Umwandlung eines Typs in einen anderen. Hier dient als Beispiel die Umwandlung eines <strong>objects</strong> in einen <strong>string</strong>. Diese Operation kann z.B. von C# nicht implizit ausgeführt werden. Natürlich würde diese Umwandlung normalerweise vom Programmierer mit dem Aufruf der <code>ToString()</code>-Methode auf dem <strong>object</strong> realisiert werden. Wir wollen dies aber zu Anschauungszwecken in einer Code-Transformation abbilden:</p>
<p><img src="media/code-transformation-bespiel1.png" alt="Code-Transformation"></p>
<p><strong>Beispiel 2:</strong></p>
<p>Als etwas komplexeres Beispiel wird eine Liste von <strong>Integern</strong> in einen <strong>String</strong> umgewandelt, in dem alle in der Liste enthaltenen Zahlen per Komma getrennt hintereinander stehen.</p>
<p>Der Eingabeparameter ist also eine <code>List&lt;int&gt;</code> mit den Werten <strong>[2, 4, 6, 8]</strong> und als Ausgabe soll der String in Form von <strong>2, 4, 6, 8</strong> zurückgegeben werden. Die folgende Code-Transformation setzt dies um:</p>
<p>Komplexere Code-Transformation:</p>
<p><img src="media/code-transformation-bespiel2.png" alt="Komplexere Code-Transformation"></p>
<p>Eine Code-Transformation besteht immer aus einer einzigen Methode. Dabei sind Ref- und Out-Parameter nicht zulässig.</p>
<h2 id="graphische-transformation">Graphische Transformation</h2>
<p>Graphische Transformationen eignen sich besonders dafür, aus einer Component einen Data Contract und umgekehrt zu transformieren.</p>
<p><strong>Beispiel:</strong></p>
<p>Es existieren die Components <strong>cdArtikel</strong> und <strong>cdHersteller</strong>. Der Artikel implementiert eine Relation zu einem Hersteller.</p>
<p><img src="media/gtransformation-bespiel1_a.png" alt="A"> <img src="media/gtransformation-bespiel1_b.png" alt="B"></p>
<p>Es soll auf Basis dieser Components ein Data Contract erstellt werden, der allerdings nicht alle Properties bei der Component beinhaltet. Dieser wird wie folgt erstellt:</p>
<p><img src="media/gtransformation-artikel-data-contract.png" alt="Artikel Data Contract"></p>
<p>Nun existieren die beiden Components und der Data Contract. Die Components und der Data Contract haben im FS jedoch keinerlei Verknüpfung. Um diese Verknüpfung herzustellen, d.h. festzulegen, wie aus den beiden Components ein Data Contract erstellt werden soll, bedarf es einer graphischen Transformation. Diese sieht wie folgt aus:</p>
<p><img src="media/gtransformation.png" alt="Graphische Transformation"></p>
<h3 id="name">Name</h3>
<p>Definiert den Namen der Transformation.</p>
<p>Auf der linken Seite wird der Datentyp des Eingabeparameters ausgewählt (im Beispiel cdArtikel). Über den Button <strong>Add Argument</strong> können zusätzliche Eingabeparameter in die Transformation eingebunden werden.</p>
<p>Alle Relationen in der jeweiligen Component (hier die Relation auf cdHersteller) werden in der Baumstruktur angezeigt.</p>
<p>Auf der rechten Seite wird der Typ des Ausgabeparameters definiert (in diesem Beispiel dcArtikel). Anschließend können auf der linken Seite Properties markiert und per Drag&amp;Drop auf ein Property des Ausgabeparameters gezogen werden. Verknüpfte Properties werden gelb markiert. Wird ein gelbes Property mit der Maus angeklickt, wird sein verknüpftes Property auf der anderen Seite grün markiert. So kann schnell eingesehen werden, welches Property der linken mit welchem Property der rechten Seite verknüpft ist.</p>
<h3 id="transformationen-der-properties">Transformationen der Properties</h3>
<p>Es kann vorkommen, dass die Properties, die verbunden werden sollen, vom Typ her nicht zusammenpassen. Im Beispiel befindet sich in <strong>cdArtikel</strong> ein Property namens <strong>oEinObjekt</strong> vom Typ <strong>object</strong>. Dieses ist jedoch in <strong>dcArtikel</strong> mit dem Property <strong>SEinStringVomObjekt</strong> verknüpft, welches vom Typ <code>string</code> ist.</p>
<p>In diesen Fällen können pro Property wiederum Transformationen definiert werden, mit denen die Properties selbst transformiert werden sollen. Im Beispiel wird <strong>cdArtikel.oEinObjekt</strong> mit Hilfe der <strong>trObject2String</strong>-Transformation nach <strong>dcArtikel.SEinStringVomObjekt</strong> transformiert.</p>
<p>Dabei ist <strong>trObject2String</strong> äquivalent zur FSTransformation1 aus Beispiel 1 im Kapitel <a href="#code-transformation">Code-Transformation</a>:</p>
<p>Transformation von Object nach String</p>
<p><img src="media/gtransformation-object-to-string.png" alt="object-to-string"></p>
<h3 id="ableiten-und-customizen-von-transformationen">Ableiten und Customizen von Transformationen</h3>
<p>Transformationen können gecustomized werden. Ableitungen sind nur für Code-Transformationen zulässig. In Code-Transformationen können die Methoden normal überschrieben werden.</p>
<p>In graphischen Transformationen können neue Property-Verbindungen hergestellt oder Property-Transformationen ausgetauscht werden. Das Hinzufügen neuer Argumente ist nicht zulässig.</p>
<h3 id="generierung-des-data-contracts-und-der-transformationen-aus-components">Generierung des Data Contracts und der Transformationen aus Components</h3>
<p>Um die Erstellung von graphischen Transformationen erheblich zu vereinfachen, kann FS aus Components heraus eigenständig Data Contracts und die zugehörigen Transformationen zwischen der Component und des Data Contracts generieren.
Hierzu muss in einer Component im Menü <strong>Edit</strong> &gt; <strong>Autogenerate Data Contract</strong> gewählt werden.</p>
<p>Data Contract Wizard:</p>
<p><img src="media/gtransformation-data-contract-wizard.png" alt="Data Contract Wizard"></p>
<p>In diesem Formular können die Properties selektiert werden, die der Data Contract beinhalten soll. Mit dem Häkchen <strong>Inverse transformation</strong> kann gewählt werden, ob auch eine Transformation vom Data Contract zurück zur Component erstellt werden soll. Mit Klick auf den Button <strong>OK</strong> werden im Namespace der Data Contract und die zugehörigen Transformationen erzeugt.</p>

</article>


        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          <span><a href="https://www.enventa-group.com/" target="_blank" rel="noopener noreferrer nofollow"><img class="dark" src="../../media/enventa-group-logo-dark.svg" alt="enventa-group" style="height: 1.5rem"><img class="light" src="../../media/enventa-group-logo.svg" alt="enventa-group" style="height: 1.5rem"></a></span> <span style="float:right">Made with <a href="https://dotnet.github.io/docfx" target="_blank" rel="noopener noreferrer nofollow" class="external">docfx</a></span>
        </div>
      </div>
    </footer>
  </body>
</html>
