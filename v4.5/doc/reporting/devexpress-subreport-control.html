<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Subreport Control </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Subreport Control ">
      
      
      <link rel="icon" href="../../favicon.ico">
      <link rel="stylesheet" href="../../public/docfx.min.css">
      <link rel="stylesheet" href="../../public/main.css">
      <meta name="docfx:navrel" content="../../toc.html">
      <meta name="docfx:tocrel" content="../toc.html">
      
      <meta name="docfx:rel" content="../../">
      
      
      <meta name="docfx:docurl" content="https://github.com/FrameworkSystemsGmbH/fs/blob/4.5/dev/docs/doc/reporting/devexpress-subreport-control.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../../index.html">
            <img id="logo" class="svg" src="../../logo.svg" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="subreport-control">Subreport Control</h1>

<p>DevExpress® bietet von Haus aus SubReports.
Diese bilden einen Hybrid unserer Use cases, aber erfüllen keinen dieser vollständig.</p>
<p>Aus diesem Grund bietet der FS Report Designer zwei spezielle Varianten von Subreports:</p>
<ol>
<li>Embedded Subreport - wird vollständig in den Haupt-Report eingebettet</li>
<li>Linked Subreport - wird beim Druck voll dynamisch gezogen.</li>
</ol>
<p>Funktional handelt es sich dabei jeweils um das Control von DevExpress®.
Hier werden lediglich die Besonderheiten im FS Report Designer erklärt.</p>
<h2 id="embedded-subreport">Embedded Subreport</h2>
<p><img src="media/embedded-subreport.svg" alt="embedded Subreport"></p>
<p>Es handelt sich um einen Subreport, der vollständig in den Hauptreport eingebettet ist und zusammen mit diesem in einer Datei gespeichert wird.</p>
<p>Beim Druck werden die Reports als ein gemeinsamer, größerer Report behandelt.</p>
<p>Ein Embedded Subreport sollte genutzt werden, wenn ein DetailReportBand keine Option ist (z.B. für eine Iteration über eine separate Datenquelle im Reportkopf).</p>
<p>Im WinForms-Designer lässt er sich über einen Doppelklick auf das Control neu anlegen oder editieren.</p>
<p><img src="media/subreport-tabs.png" alt="Subreport Tabs"></p>
<p>Da alle Subreports in derselben Datei gespeichert sind, werden beim Auslösen eines Speichervorgangs alle Subreports zusammen mit dem Hauptreport gespeichert.
Als Datenquelle wird die des Hauptreports genutzt.
Um diese zu filtern sollten <a href="devexpress-subreport-control.html#parameter">Report-Parameter</a> eingesetzt werden.</p>
<div class="NOTE">
<h5>Note</h5>
<p>Wenn möglich, sollte statt eines embedded Subreports ein <a href="report-designer.html#detail-report-band">DetailReportBand</a> eingesetzt werden (insbesondere für verschachtelte Positionen).</p>
</div>
<p>Beim initialen Hinzufügen eines Embedded Subreports wird der DataMember aus der DataMember-Eigenschaft des Haupt-Reports übernommen. Ist ein anderer DataMember im Embedded Report gewünscht, kann dieser geändert werden.</p>
<h3 id="änderungen-speichern">Änderungen speichern</h3>
<p>Embedded Subreports sind Status-synchronisiert mit ihrem Quellreport.
Das bedeutet konkret, dass jede Änderung an einem Embedded Subreport im Status des Hauptreports widergespiegelt wird.</p>
<p>Haupt- und Subreport werden immer gemeinsam gespeichert, unabhängig von der Anzahl der geöffneten Subreports.
Ein Save auf einem der Tabs führt immer automatisch einen Save auf den Hauptreport aus.</p>
<h2 id="linked-subreport">Linked Subreport</h2>
<p><img src="media/linked-subreport.svg" alt="linked Subreport"></p>
<p>Es handelt sich um einen Subreport, der als Link in den Hauptreport eingefügt wird.
In der Hauptreport-Datei wird lediglich die URL auf die Subreport-Datei gespeichert.</p>
<p>Beim JEDEM Druck wird die URL des Subreports neu aufgelöst und dessen Inhalt frisch in den Haupt-Report eingebettet.
Dadurch wird eine echte Modularität erzielt.
Hauptreport und Subreport können unabhängig voneinander bearbeitet / customized werden.</p>
<p>Um sie zu nutzen, muss über den Smart Tag des Reports ein bestehender Report ausgewählt werden.</p>
<p><img src="media/devexpress-custom-controls-select-linked-subreport.png" alt="Auswahl Pfad"></p>
<p><img src="media/linked-sub-report.png" alt="Linked Sub Report"></p>
<p>Nach der Auswahl wird die Url des selektierten Reports automatisch auf Höhe des Report-Verzeichnisses relativiert.
Dies garantiert, dass der Subreport zum Druckzeitpunkt auf Basis des aktuellen Verzeichnisses seinen Ziel-Report selektiert und auswählt.</p>
<p>Im Designer öffnet ein Doppelklick auf einen Linked Subreport diesen im Readonly-Modus.
Um einen Subreport editieren zu können, muss dieser über den entsprechenden Report Document Type aus Framework Studio heraus geöffnet werden.</p>
<h3 id="generate-own-pages">Generate Own Pages</h3>
<p>Diese Option ändert das Verhalten des Subreports: Statt in das Subreport-Control gedruckt zu werden, generiert sich der Subreport als vollwertiger Report. Der generierte Subreport wird nicht auf die Seite des Hauptreports gedruckt, es werden stattdessen seine Seiten zu oder zwischen die des Hauptreports gelegt.</p>
<h2 id="use-cases">Use Cases</h2>
<p>Je nach Use Case empfiehlt sich entweder die Verwendung von Linked Subreports, Embedded Subreports oder Detail-Bands. Unter welchen Anforderungen/Voraussetzungen, welches Element verwendet werden sollte, wird im Folgenden erörtert.</p>
<ul>
<li><p>Werden dem RootReport zwei Collections mittels Datasource übergeben und es sollen beide Collections angezeigt werden, muss für die zweite Collection ein Subreport verwendet werden.</p>
</li>
<li><p>Ein Embedded Subreport sollte genutzt werden, wenn ein DetailReportBand keine Option ist. Zum Beispiel für eine Iteration über eine separate Datenquelle im ReportHeader oder PageHeader.</p>
</li>
<li><p>Auch bei einer Ansicht von zwei Collections nebeneinander müssen Subreports verwendet werden.</p>
</li>
</ul>
<h2 id="parameter">Parameter</h2>
<p>DevExpress® erlaubt es, an einen Report beim Druck sogenannte Report-Parameter zu übergeben.
Parameter ermöglichen es Report Daten dynamisch zu filtern.
Diese enthalten arbiträre Werte und lassen sich in der Field List pflegen.</p>
<p>In der Field List können Sie über das Kontextmenü der Parameters diese editieren oder einen neuen Parameter hinzufügen:</p>
<p><img src="media/parameter-context-menu.png" alt="Parameter Context Menu"></p>
<p><img src="media/report-paramters-editor.png" alt="Parameters Editor"></p>
<p>Parameter finden insbesondere bei verlinkten Subreports Einsatz, wenn z.B. auf Basis einer ID nur über einen begrenzten Teil des Datensatzes iteriert werden soll.
Um dies zu erreichen sollten Parameter Bindings am Subreport in Verbindung mit Filter Strings eingesetzt werden.</p>
<p><img src="media/edit-parameter-bindings.png" alt="Edit Parameter bindings"></p>
<p>Innerhalb einer Expression ist ein Report-Parameter mit der Syntax „?ParameterName“ abrufbar und verhält sich wie ein Calculated Field.</p>

</article>


        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          <span><a href="https://www.enventa-group.com/" target="_blank" rel="noopener noreferrer nofollow"><img class="dark" src="../../media/enventa-group-logo-dark.svg" alt="enventa-group" style="height: 1.5rem"><img class="light" src="../../media/enventa-group-logo.svg" alt="enventa-group" style="height: 1.5rem"></a></span> <span style="float:right">Made with <a href="https://dotnet.github.io/docfx" target="_blank" rel="noopener noreferrer nofollow" class="external">docfx</a></span>
        </div>
      </div>
    </footer>
  </body>
</html>
