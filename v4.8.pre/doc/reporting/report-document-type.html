<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Report Document Type </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Report Document Type ">
      
      
      <link rel="icon" href="../../favicon.ico">
      <link rel="stylesheet" href="../../public/docfx.min.css">
      <link rel="stylesheet" href="../../public/main.css">
      <meta name="docfx:navrel" content="../../toc.html">
      <meta name="docfx:tocrel" content="../toc.html">
      
      <meta name="docfx:rel" content="../../">
      
      
      <meta name="docfx:docurl" content="https://github.com/FrameworkSystemsGmbH/fs/blob/4.8/release/0-beta1/docs/doc/reporting/report-document-type.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../../index.html">
            <img id="logo" class="svg" src="../../logo.svg" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="report-document-type">Report Document Type</h1>

<p><strong>Report Document Types</strong> stellen die Verbindung zwischen den Components und den Reports dar.
Sie definieren, was für Daten in welchem Report ausgegeben werden. Ein Report Document Type enthält eine Angabe, welche Components ausgedruckt werden sollen und welche Reports dafür zur Verfügung stehen.
Diese <strong>Report Document Types</strong> können später in Forms verwendet werden.</p>
<p><strong>Report Document Types</strong> sind an dem <img src="media/report-icon.png" alt="rpt-icon">– Icon zu erkennen.</p>
<h2 id="erstellen-bearbeiten-und-löschen-von-report-document-types">Erstellen, bearbeiten und löschen von Report Document Types</h2>
<p>Sie erstellen einen neuen Report Document Type, indem Sie in der Registerkarte <strong>Namespaces</strong> den Namespace auswählen, in welchem der Report Document Type abgelegt werden soll.</p>
<p>Mit dem Button <img src="../media/button-new.png" alt="new-button">(<strong>New</strong>) und dem Eintrag <strong>ReportDocumentType</strong> aus dem Menü wird im markierten Namespace ein neuer Report Document Type angelegt.
Dieser wird auch gleichzeitig geöffnet.
Direkt nach dem Anlegen des Report Document Types steht der Cursor in dem sich öffnenden Designer auf dem Feld <strong>Name</strong>, wo Sie den Namen eingeben können.</p>
<p>Es wird empfohlen den Namen mit <strong>rpt</strong> zu beginnen.</p>
<p>Löschen können Sie einen Report Document Type mit dem Button <img src="../media/button-delete.png" alt="delete-button"> (<strong>Delete</strong>).
Sie müssen dazu den gewünschten Report Document Type im Namespace-Baum markiert haben.
Es gibt auch im Kontext-Menü den Eintrag <strong>Delete</strong>.</p>
<h2 id="registerkarte-data-sources">Registerkarte Data Sources</h2>
<p>Unter <strong>Data Sources</strong> werden die Components angegeben, die in einem Report ausgegeben werden sollen.
Es können mehrere Components (Collections) aus unterschiedlichen Namespaces eingebunden werden.</p>
<p>Jede Component wiederum kann für mehrere Reports als Data-Source angegeben werden.</p>
<p><img src="media/report-document-type-data-source.png" alt="Report Document Type – Registerkarte DataSource"></p>
<p>Über das Menü <strong>File</strong> / <strong>New</strong> / <strong>Data Source</strong> bzw. über das Kontextmenü der Tabelle wird ein neuer Data-Source erstellt.</p>
<p>Bei <strong>Datatype</strong> können Sie durch Eingabe eines Types die Component / Collection auswählen, die verwendet werden soll.</p>
<p>Im Feld <strong>Name</strong> können Sie dem Data-Source einen Namen geben.
Dieser wird anhand des ausgewählten Datentyps mit einem Standardnamen vorbelegt.</p>
<p>Die Data-Sources sind sozusagen die &quot;Properties&quot; des Reports.
Diese Properties müssen später beim Druck mit Werten gefüllt werden.</p>
<h2 id="registerkarte-report-files">Registerkarte Report Files</h2>
<p>Auf der Registerkarte <strong>Report Files</strong> können dem Report Document Type die eigentlichen Reports zugewiesen werden.</p>
<p><img src="media/report-document-type-report-files.png" alt="Report Document Type – Report Files"></p>
<h3 id="hinzufügen-und-öffnen-eines-neuen-reports">Hinzufügen und Öffnen eines neuen Reports</h3>
<p>Über das Menü <strong>File</strong> / <strong>New</strong> / <strong>Report File</strong> oder über das Kontextmenü der Tabelle wird eine neue Report-Datei erstellt.</p>
<p>In einem abgeleiteten Report bzw. im Customizing-Package kann auch ein Report aus der Basis bearbeitet werden. Markieren Sie dazu den entsprechenden grau hinterlegten Report und drücken Sie dann den Button <strong>Edit Report</strong>.
Dadurch wird eine &quot;Überschreibung&quot; des Inhalts des Basis-Reports erzeugt.</p>
<h3 id="include-base-reports">Include Base Reports</h3>
<p>Mit der Checkbox <strong>Include Base Reports</strong> legen Sie fest, ob vererbte, nicht geänderte Basisreports später in der Applikation zur Auswahl stehen sollen.
Sie hat Einfluss darauf, was die Methode <a class="xref" href="../../api/FS.Hosting.Core.Reporting.ReportDocument.GetReportEnums.html#FS_Hosting_Core_Reporting_ReportDocument_GetReportEnums"><code>ReportDocument.GetReportEnums()</code></a> zurückgibt.</p>
<p>Bei gesetzter Checkbox werden die Reports aus der <strong>direkten</strong> Basis ebenfalls zurückgegeben.
Auf jeder weiteren Basis-Ebene (sowohl Vererbung als auch Customizing) wird die Checkbox erneut ausgewertet.</p>
<p>Ist die Checkbox <strong>nicht</strong> gesetzt, dann werden in der Anwendung nur die neu hinzugefügten und die in dieser Ableitungsebene überschriebenen Reports zurückgegeben.
Überschriebene Reports sind am grauen Hintergrund und dem blauen Text zu erkennen.</p>
<div class="NOTE">
<h5>Note</h5>
<p>Um eine Überschreibung zu löschen muss diese über das Kontext-Menü der Tabelle mit <strong><img src="../media/icon-delete.png" alt="Delete"> Delete</strong> gelöscht werden. Dadurch wird der Text wieder Schwarz. <strong>Reset File</strong> alleine reicht nicht aus.</p>
</div>
<h3 id="allgemeine-einstellungen">Allgemeine Einstellungen</h3>
<p>Die folgenden Einstellungen beziehen sich auf den in der Tabelle ausgewählten Report:</p>
<p>Im Feld <strong>Name</strong> kann dem Report ein Name gegeben werden.</p>
<div class="WARNING">
<h5>Warning</h5>
<p>Dieser Name darf keine Leer- und Sonderzeichen enthalten, weil dieser später im Code zum Einsatz kommt.</p>
</div>
<p>Mit dem Button <strong>Edit Report</strong> wird der Report über ein externes Tool bearbeitet.</p>
<p>Für weitere Erklärungen bezüglich der Bearbeitung von DevExpress® Reports siehe <a href="report-designer.html">FS Report Designer</a></p>
<p>Der Button <strong>Choose File</strong> öffnet einen Dateiauswahl-Dialog, in dem Sie eine bestehende Report-Datei zuweisen können.</p>
<p>Mit dem Button <strong>New Report</strong> wird ein neuer, leerer Report erstellt und zugewiesen.</p>
<p>Mit dem Button <strong>Reset File</strong> wird der Inhalt eine einzelnen Report-Datei gelöscht.
Handelt es sich um eine aus der Basis geerbeten Report-Datei, zieht danach wieder der Inhalt aus der Basis.</p>
<h4 id="crystal-report-deprecated">Crystal Report (Deprecated)</h4>
<p>Diese Box wird angezeigt, wenn das Report-File eine Crystal-Report-Datei besitzt.</p>
<div class="NOTE">
<h5>Note</h5>
<p>Seit der <a href="../../articles/neuheiten-4-8.html#crystal-reports-abgek%C3%BCndigt">Version 4.8</a> wird Crystal Reports nicht mehr unterstütz.
Die hinterlegte Datei steht in der Anwendung nicht mehr zur Verfügung.</p>
</div>
<p>Mit dem Button <strong>View Report</strong> können Sie den Crystal Report im Designer anzeigen.
So können Sie weiterhin eine Konvertierung zum DevExpress®-Report durchführen.
Ein Ändern dieser Report-Datei ist nicht mehr möglich.</p>
<p>Mit dem Button <strong>Delete File</strong> wird die Crystal Report Datei endgültig gelöscht.
Dadurch wird die Crytal Report Box ausgeblendet.</p>
<h4 id="caption">Caption</h4>
<p>Im Report Document Type können Sie für Report Files lokalisierte Bezeichnungen (Captions) hinterlegen, also die Bezeichnung mehrsprachig pflegen.
Diese Captions können zur Laufzeit ausgewertet werden, um z.B. im Druck-Dialog bei der Auswahl der unterschiedlichen Report-Varianten einen sprechenden Text auszugeben.</p>
<h2 id="report-verzeichnis">Report-Verzeichnis</h2>
<p>Auf dem Dateisystem werden die Report-Dateien vom Compile-Verzeichnis ausgehend im Ordner <code>/Report/</code> gespeichert.
DevExpress® Reports erhalten einen weiteren Unterordner, nach dem übergeordneten Report Document Type benannt.
Der Report CustomerList aus rptCustomerList wäre also unter <code>/Report/NV.ERP.Base.Customer.rptCustomerList/CustomerList.repx</code> zu finden.</p>
<p>Bei jedem Compile-Vorgang werden die DevExpress® Report-Dateien aus dem Repository in das Dateisystem herausgeschrieben, nach folgenden Regeln:</p>
<h4 id="devexpress">DevExpress®</h4>
<p>Alle DevExpress® Reports eines Report Document Types im aktuellen Package werden in den entsprechenden Unterordner unter <code>/Report/</code> herausgeschrieben.</p>
<p>Basis-Reports werden nur aus der Basis gesucht und ins Verzeichnis geschrieben, solange am Report Document Type die Checkbox &quot;Include Base Reports&quot; gesetzt ist.</p>
<h2 id="für-den-druck-relevante-klassen">Für den Druck relevante Klassen</h2>
<ul>
<li><a class="xref" href="../../api/FS.Hosting.Core.Reporting.ReportDocument.html">ReportDocument</a></li>
<li><a class="xref" href="../../api/FS.Hosting.Core.Reporting.ReportEnum.html">ReportEnum</a></li>
<li><a class="xref" href="../../api/FS.Hosting.Shared.Reporting.PrintServer.html">PrintServer</a></li>
<li><a class="xref" href="../../api/FS.Hosting.Shared.Reporting.PrintQueue.html">PrintQueue</a></li>
</ul>
<h2 id="browserbasierter-report-designer-zur-laufzeit">Browserbasierter Report-Designer zur Laufzeit</h2>
<p>Zur Laufzeit steht ein Report Designer dem Benutzer zur Verfügung. Dieser muss vorher in das System integriert und aufgerufen werden.</p>
<p>Weitere Details zum Designer finden Sie unter <a href="web-report-designer.html">FS Web Report Designer</a>.</p>
<p>Im folgenden Beispiel wird ein Report Designer geöffnet, auf eine Bestätigung des Benutzers gewartet und anschließend der geänderte Report ausgedruckt.</p>
<pre><code class="lang-C#">// Eigenschaft, um sich die Design Session zu merken
private FS.Hosting.Core.Reporting.ReportDesignSession oDesignSession { get; set; }

// Einstiegspunkt; hier bspw. über einen Button Click
protected virtual void btnGrdReportDesigner_OnClick(FrameworkButtonClickEventArgs e)
{
    rptArticles report = new rptArticles(this.Global, rptArticles.Reports.XArticleReport, ExportFormat.PDF);
    this.oDesignSession = report.CreateDesigner();
    this.oDesignSession.ShowDesigner();  // Öffnet den Report Designer in einem Browser-Fenster
    
    throw MsgBox.Exception(FSGeneral.ctMessagesFactory.GetText(this.Global, 10), &quot;&quot;, MsgBoxButtons.OK, MsgBoxIcons.None, new MsgBoxEventHandler(OnMsgBoxReportDesignSessionClick));
}

// Ein Klick auf den MessageBox-Button signalisiert, dass die Bearbeitung abgeschlossen ist
protected virtual void OnMsgBoxReportDesignSessionClick(object sender, MsgBoxEventArgs e)
{
    byte[] reportDesign = null;
    if (this.oDesignSession != null &amp;&amp; this.oDesignSession.IsModified())
    {
        // Veränderten Report aus der Session herunterladen
        reportDesign = this.oDesignSession.GetBytes();
    }
    this.oDesignSession.Dispose();  // Verwerfen der Design Session nicht vergessen
    this.oDesignSession = null;
    if (reportDesign == null)
    {
        throw new Exception(&quot;Kein neuer Report vorhanden.&quot;); 
    }

    // Drucken des geänderten Reports
    rptArticles report = new rptArticles(this.Global, rptArticles.Reports.XArticleReport, ExportFormat.PDF);
    report.SelectedReport.ReportBytes = reportDesign;
    report.oArticle = oArticleColl;  // Beim Drucken wird die Datenquelle benötigt
    report.Print();
}
</code></pre>
<p>Weitere Information zum Web-Designer finden Sie unter <a class="xref" href="../../api/FS.Hosting.Core.Reporting.ReportDesignSession.html">ReportDesignSession</a>.</p>

</article>


        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          <span><a href="https://www.enventa-group.com/" target="_blank" rel="noopener noreferrer nofollow"><img class="dark" src="../../media/enventa-group-logo-dark.svg" alt="enventa-group" style="height: 1.5rem"><img class="light" src="../../media/enventa-group-logo.svg" alt="enventa-group" style="height: 1.5rem"></a></span> <span style="float:right">Made with <a href="https://dotnet.github.io/docfx" target="_blank" rel="noopener noreferrer nofollow" class="external">docfx</a></span>
        </div>
      </div>
    </footer>
  </body>
</html>
