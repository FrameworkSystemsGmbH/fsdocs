<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Hinweis zum Fokussystem </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Hinweis zum Fokussystem ">
      
      
      <link rel="icon" href="../../favicon.ico">
      <link rel="stylesheet" href="../../public/docfx.min.css">
      <link rel="stylesheet" href="../../public/main.css">
      <meta name="docfx:navrel" content="../../toc.html">
      <meta name="docfx:tocrel" content="../toc.html">
      
      <meta name="docfx:rel" content="../../">
      
      
      <meta name="docfx:docurl" content="https://github.com/FrameworkSystemsGmbH/fs/blob/4.8/release/0-alpha7/docs/doc/html-client/fokussystem.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../../index.html">
            <img id="logo" class="svg" src="../../logo.svg" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="hinweis-zum-fokussystem">Hinweis zum Fokussystem</h1>

<p>Ein besonderes Augenmerk muss auf die <code>SetFocus</code> Action in Verbindung mit den <code>OnEnter</code> und <code>OnLeave</code> Events an Controls gelegt werden, da in diesem Zusammenhang der JavaClient und HTML Client unterschiedlich reagieren.</p>
<h3 id="vergleich-zum-javaclient">Vergleich zum JavaClient</h3>
<p>In der Programmierung für den JavaClient wird sehr oft der Fokus in einem <code>OnLeave</code> Event in ein anders Control gesetzt, welches nicht das direkt nachfolgende ist. Z.B. werden nach der Eingabe mehrere Textfelder übersprungen oder der Fokus in ein Grid gelegt. Diese Art der Programmierung funktioniert im JavaClient, da dessen Eventsystem synchron aufgebaut ist. D.h., der JavaClient kann bei einem <code>OnLeave</code> Event auf eine Antwort des Brokers warten, bevor er den Fokus tatsächlich in das gewünschte Control setzt. Dadurch wird das Fokussystem auch durch länger andauernde Requests nicht &quot;gestört&quot;.</p>
<h3 id="asynchrones-eventsystem-in-browsern">Asynchrones Eventsystem in Browsern</h3>
<p>Das Eventsystem eines Web Browsers läuft hingegen asynchron ab. Bei einem Fokuswechsel kann zwar ein Broker Request abgesetzt werden (z.B. in einem <code>OnLeave</code> Event an einem Textfeld), auf dessen Response kann allerdings nicht gewartet werden. Dies hat zur Folge, dass der Fokus vom Browser ggf. in das nachfolgende Control gesetzt wird, <strong>bevor</strong> der Broker Request abgeschlossen ist. Je nachdem wie viel Zeit der Broker Request benötigt, kann dies in Verbinung mit der SetFocus Action zu seltsamen Effekten am Client führen. Das kann im schlimmsten Fall einen &quot;Focus-Lock&quot; hervorrufen, bei dem der Fokus in einem Control &quot;festhängt&quot;.</p>
<p>Dieses Dilemma kann technisch nicht gelöst werden. Aus diesem Grund gilt für die HTML Client Programmierung folgende Gundregel:</p>
<div class="NOTE">
<h5>Note</h5>
<p><strong>In einem <code>OnEnter</code> oder <code>OnLeave</code> Event darf niemals eine <code>SetFocus</code> Action aufgerufen werden!</strong></p>
</div>

</article>


        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          <span><a href="https://www.enventa-group.com/" target="_blank" rel="noopener noreferrer nofollow"><img class="dark" src="../../media/enventa-group-logo-dark.svg" alt="enventa-group" style="height: 1.5rem"><img class="light" src="../../media/enventa-group-logo.svg" alt="enventa-group" style="height: 1.5rem"></a></span> <span style="float:right">Made with <a href="https://dotnet.github.io/docfx" target="_blank" rel="noopener noreferrer nofollow" class="external">docfx</a></span>
        </div>
      </div>
    </footer>
  </body>
</html>
